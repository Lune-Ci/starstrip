# 网站部署指南

## 🚀 推荐方案：使用 Vercel 免费部署（最简单）

Vercel 是 Next.js 的官方推荐平台，提供免费部署服务。

### 步骤：

1. **准备代码仓库**
   - 确保 `.gitignore` 已正确配置（排除 node_modules、.next 等）
   - 不需要上传 `图片库/` 和 `Suzhou/` 文件夹（这些是源文件）

2. **创建 GitHub 仓库**
   ```bash
   # 初始化git（如果还没有）
   git init
   
   # 添加所有文件（.gitignore会自动排除不需要的文件）
   git add .
   
   # 提交
   git commit -m "Initial commit"
   
   # 在GitHub上创建新仓库，然后连接
   git remote add origin https://github.com/你的用户名/仓库名.git
   git branch -M main
   git push -u origin main
   ```

3. **在 Vercel 部署**
   - 访问 https://vercel.com
   - 使用 GitHub 账号登录
   - 点击 "New Project"
   - 选择你的 GitHub 仓库
   - Vercel 会自动检测 Next.js 项目
   - 点击 "Deploy" 即可
   - 几分钟后网站就会上线！

### Vercel 免费版特点：
- ✅ 完全免费
- ✅ 自动 HTTPS
- ✅ 全球 CDN 加速
- ✅ 自动部署（每次 push 到 GitHub 自动更新）
- ✅ 自定义域名支持
- ✅ 无服务器限制

---

## 📦 方案二：使用 Netlify（备选）

1. 访问 https://www.netlify.com
2. 使用 GitHub 账号登录
3. 点击 "New site from Git"
4. 选择你的仓库
5. 构建设置：
   - Build command: `npm run build`
   - Publish directory: `.next`
6. 点击 "Deploy site"

---

## 🔧 部署前需要做的优化

### 1. 更新 .gitignore

确保以下内容在 `.gitignore` 中：

```
# 源图片文件夹（不需要上传）
/图片库/
/Suzhou/

# 其他不需要的文件
.DS_Store
*.zip
```

### 2. 检查大文件

如果 public 文件夹中有超过 50MB 的单个文件，建议：
- 压缩图片（使用工具如 TinyPNG）
- 或者使用图片 CDN（如 Cloudinary）

### 3. 环境变量

如果有敏感信息（API keys等），使用 Vercel 的环境变量功能：
- 在 Vercel 项目设置中添加环境变量
- 不要提交 `.env` 文件到 GitHub

---

## 📝 部署检查清单

- [ ] `.gitignore` 已更新，排除了不需要的文件
- [ ] `图片库/` 和 `Suzhou/` 文件夹已排除
- [ ] 所有代码已提交到 GitHub
- [ ] 在 Vercel/Netlify 上创建了项目
- [ ] 部署成功，网站可以访问

---

## ⚠️ 注意事项

1. **图片文件大小**：public 文件夹中的图片会随代码一起部署，如果总大小超过 100MB，可能需要优化
2. **构建时间**：首次部署可能需要几分钟
3. **自定义域名**：Vercel 免费版支持自定义域名
4. **数据库**：如果使用数据库，可能需要单独配置（Vercel 提供数据库服务）

---

## 🆘 如果遇到问题

1. **GitHub 文件太大错误**
   - 检查是否有单个文件超过 100MB
   - 确保 `.gitignore` 正确配置
   - 使用 `git rm --cached` 移除已跟踪的大文件

2. **部署失败**
   - 检查构建日志
   - 确保所有依赖都在 package.json 中
   - 检查 Node.js 版本兼容性

---

**推荐使用 Vercel，这是 Next.js 项目最简单快速的部署方式！**

